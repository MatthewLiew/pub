<?php// Opens a connection to a MySQL server$configs = include('config/config.php');function parseToXML($htmlStr){	$xmlStr=str_replace('<','&lt;',$htmlStr);	$xmlStr=str_replace('>','&gt;',$xmlStr);	$xmlStr=str_replace('"','&quot;',$xmlStr);	$xmlStr=str_replace("'",'&#39;',$xmlStr);	$xmlStr=str_replace("&",'&amp;',$xmlStr);	return $xmlStr;}// Select all the rows in the markers table$query = "SELECT * FROM vogomo_google_markers WHERE 1";$result = $configs->query($query);header("Content-type: text/xml");// Start XML file, echo parent nodeecho '<markers>';// Iterate through the rows, printing XML nodes for eachforeach($result as $row){	// Add to XML document node	$vogomo_currentstatus = "SELECT * FROM vogomo_currentstatus WHERE 1";	$current_result = $configs->query($vogomo_currentstatus);	echo '<marker ';	echo 'id="' . $ind . '" ';	echo 'name="' . parseToXML($row['name']) . '" ';	echo 'address="' . parseToXML($row['address']) . '" ';		foreach($current_result as $current_row){			$percentage = 100;			$totalpercentage = $current_row['water_level'];			$newpercentage = ($percentage / 50) * $totalpercentage;			//(m<sup>3</sup>)			echo 'door_status="' . $current_row['door_status'] . ' " ';			echo 'water_level="' . $current_row['water_level'] . ' " ';			echo 'percentage=" - ' . $newpercentage . ' %" ';		}	echo 'lat="' . $row['lat'] . '" ';	echo 'lng="' . $row['lng'] . '" ';	echo 'type="' . $row['type'] . '" ';	echo '/>';}// End XML fileecho '</markers>';?>